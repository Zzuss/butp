# 🚀 Umami统计功能 - 快速启动指南

## 立即开始

无需复杂配置，BuTP的Umami统计功能现在支持智能回退，即使没有配置API凭据也能正常展示！

### 方式一：使用示例数据（推荐用于演示）

1. **无需任何配置**，直接访问关于页面：
   ```
   http://localhost:3000/about
   ```

2. 页面会自动尝试获取真实数据，如果失败则显示示例数据

3. 可以随时在界面上切换数据模式

### 方式二：配置真实数据

如果您有Umami访问权限，可以配置真实数据：

1. **复制环境变量模板**：
   ```bash
   cp env.template .env.local
   ```

2. **编辑 `.env.local`** 文件，添加您的Umami凭据：
   ```bash
   # Umami API 访问配置
   UMAMI_BASE_URL=https://umami-ruby-chi.vercel.app
   UMAMI_USERNAME=your-username
   UMAMI_PASSWORD=your-password
   UMAMI_WEBSITE_ID=ddf456a9-f046-48b0-b27b-95a6dc0182b9
   ```

3. **检查配置**：
   ```bash
   node check-umami-config.js
   ```

4. **启动服务**：
   ```bash
   npm run dev
   ```

5. **访问页面**查看真实数据

## 🎯 快速测试

### 测试连接状态
```bash
# 检查环境变量配置
node check-umami-config.js

# 测试网络连接
node test-umami-connection.js
```

### 测试页面
- **配置测试页面**: `http://localhost:3000/test-umami`
- **关于页面（主展示）**: `http://localhost:3000/about`

## 🎮 用户界面说明

访问关于页面时，您会看到：

### 数据源指示器
- 🟢 **"实时数据"** - 来自Umami API的真实统计
- 🔵 **"示例数据"** - 演示用的模拟数据

### 控制按钮
- **刷新数据** - 重新尝试获取真实数据
- **切换到示例** - 手动切换到演示模式
- **尝试真实数据** - 从示例模式尝试获取真实数据

### 状态提示
- 🟡 黄色提示：当前使用示例数据及原因
- 🟢 绿色提示：成功获取真实数据
- 🔵 蓝色加载：正在获取数据

## 📊 显示的数据

每个时间段显示：
- **页面浏览量** (Pageviews)
- **访客数** (Visitors) 
- **访问次数** (Visits)
- **平均访问时长**
- **跳出率**

时间段包括：
- 📅 **日访问量** (过去24小时)
- 📊 **周访问量** (过去7天)
- 📈 **月访问量** (过去30天)
- 📉 **半年访问量** (过去180天)

## 🔧 常见问题

### Q: 为什么显示示例数据？
A: 可能原因：
- 未配置Umami API凭据
- 网络连接问题
- 防火墙限制
- Umami服务器暂时不可用

### Q: 如何获取Umami登录凭据？
A: 
1. 访问 [Umami仪表板](https://umami-ruby-chi.vercel.app/dashboard)
2. 使用您的管理员账户登录
3. 将用户名和密码配置到环境变量中

### Q: 示例数据是固定的吗？
A: 是的，示例数据是预设的演示数据，用于展示界面效果。真实数据会从Umami API动态获取。

### Q: 可以只使用示例数据吗？
A: 可以！示例数据模式非常适合演示和开发环境。您可以随时在界面上切换。

## 🎉 完成！

现在您已经可以：
- ✅ 在关于页面查看访问统计
- ✅ 在示例数据和真实数据间切换
- ✅ 理解各种状态指示器
- ✅ 知道如何配置真实数据

享受您的BuTP统计功能吧！ 🚀

---

💡 **提示**: 如果在企业网络环境中遇到连接问题，这是正常的。示例数据模式确保功能始终可用。 