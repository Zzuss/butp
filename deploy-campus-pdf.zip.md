# 校内PDF服务部署包

## 📦 部署包内容
- `campus-pdf-service/` - 完整的校内PDF服务代码
- `DEPLOYMENT_GUIDE.md` - 详细部署指南

## 🚀 快速部署命令

在10.3.58.3服务器上执行：

```bash
# 1. 上传campus-pdf-service文件夹到服务器
scp -r campus-pdf-service/ user@10.3.58.3:/opt/

# 2. 登录服务器并部署
ssh user@10.3.58.3
cd /opt/campus-pdf-service
bash deploy.sh

# 3. 测试服务
bash test-service.sh
```

## 🔧 服务配置

- **服务地址**: `http://10.3.58.3:8000`
- **健康检查**: `http://10.3.58.3:8000/health`
- **API端点**: `http://10.3.58.3:8000/generate-pdf`
- **API密钥**: 部署时自动生成

## 📋 前端按钮说明

现在你有三个PDF导出按钮：

1. **导出（保留桌面布局）** - 使用本地Puppeteer（仅本地开发）
2. **导出（校内服务）** - 使用校内PDF服务（校园网/VPN用户，完美质量）
3. **导出（客户端）** - 使用浏览器生成（所有用户，备用方案）

## 🌐 工作流程

### 校内/VPN用户：
```
点击"导出（校内服务）" → 检测校园网连接 → 调用10.3.58.3:8000 → 完美PDF
```

### 外网用户：
```
点击"导出（校内服务）" → 检测失败 → 自动使用客户端生成 → 可用PDF
或直接点击"导出（客户端）" → 客户端生成 → 可用PDF
```

部署完成后，所有用户都能获得最佳的PDF导出体验！
